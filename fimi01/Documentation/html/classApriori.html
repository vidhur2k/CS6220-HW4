<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APRIORI algorithm: Apriori class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>Apriori Class Reference</h1>This class implements the APRIORI algirithm.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="Apriori_8hpp-source.html">Apriori.hpp</a>&gt;</code>
<p>
<a href="classApriori-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#a0">Apriori</a> (const  bool &amp;<a class="el" href="classApriori.html#r4">store_input</a>, const  int &amp;trie_type=1, const  int &amp;child_threshold=5)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#a1">APRIORI_alg</a> (ofstream &amp;outcomefile, const  char *basket_filename, const  double &amp;min_supp, const  double &amp;min_conf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This procedure implements the APRIORI algorithm. </em> <a href="#a1"></a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#d0">read_in_a_line</a> (FILE *filepoint)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads in one transaction from the datafile. </em> <a href="#d0"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#d1">support</a> (FILE *filepoint, const  <a class="el" href="Trie_8hpp.html#a0">itemtype</a> &amp;candidate_size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determines the support of the candidates of the given size. </em> <a href="#d1"></a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classTrie.html">Trie</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#r0">trie</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>vector&lt; <a class="el" href="Trie_8hpp.html#a0">itemtype</a> &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#r1">basket</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#r2">basket_number</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>map&lt; vector&lt; <a class="el" href="Trie_8hpp.html#a0">itemtype</a> &gt;, unsigned <br>
long, <a class="el" href="structitemsetLess.html">itemsetLess</a> &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#r3">reduced_baskets</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#r4">store_input</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class implements the APRIORI algirithm. 
<p>
APRIORI is a levelwise algorithm. It scans the transaction database several times. After the first scan the frequent 1-itemsets are found, and in general after the <em>k<sup>th</sup></em> scan the frequent <em>k</em>-itemsets are extracted. The method does not determine the support of every possible itemset. In an attempt to narrow the domain to be searched, before every pass it generates <em>candidate</em> itemsets. An itemset becomes a candidate if every subset of it is frequent. Obviously every frequent itemset needs to be candidate too, hence only the support of candidates is calculated. Frequent <em>k</em>-itemsets generate the candidate <em>k+1</em>-itemsets after the <img class=formulaInl alt="$k^{th}$" src="form_0.png"> scan. <p>
After all the candidate <em>k+1</em>-itemsets have been generated, a new scan of the transactions is effected and the precise support of the candidates is determined. The candidates with low support are thrown away. The algorithm ends when no candidates can be generated. <p>
The intuition behind candidate generation is based on the following simple fact:<br>
 <div align="center"><em>Every subset of a frequent itemset is frequent.</em></div><br>
 This is immediate, because if a transaction <em>t</em> supports an itemset <em>X</em>, then <em>t</em> supports every subset <img class=formulaInl alt="$Y\subseteq X$" src="form_1.png">. <p>
Using the fact indirectly, we infer, that if an itemset has a subset that is infrequent, then it cannot be frequent. So in the algorithm APRIORI only those itemsets will be candidates whose every subset is frequent. The frequent <em>k</em>-itemsets are available when we attempt to generate candidate <em>k+1</em>-itemsets. The algorithm seeks candidate <em>k+1</em>-itemsets among the sets which are unions of two frequent <em>k</em>-itemsets. After forming the union we need to verify that all of its subsets are frequent, otherwise it should not be a candidate. To this end, it is clearly enough to check if all the <em>k</em>-subsets of <em>X</em> are frequent. <p>
Next the supports of the candidates are calculated. This is done by reading transactions one by one. For each transaction <em>t</em> the algorithm decides which candidates are supported by <em>t</em>. To solve this task efficiently APRIORI uses a hash-tree. However in this implementation a trie (prefix-tree) is applied. Tries have many advantages over hash-trees. <ol>
<li>
It is faster  </li>
<li>
It needs no parameters (main drawback of a hash-tree is that its performance is very sensitive to the parameteres)  </li>
<li>
The candidate generation is very simple.  </li>
</ol>

<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="Apriori::Apriori" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Apriori::Apriori </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const bool &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>store_input</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>trie_type</em> = 1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>child_threshold</em> = 5</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a1" doxytag="Apriori::APRIORI_alg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Apriori::APRIORI_alg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ofstream &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>outcomefile</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>basket_filename</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>min_supp</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>min_conf</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This procedure implements the APRIORI algorithm. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>outcomefile</em>&nbsp;</td><td>The file the output will be written to. </td></tr>
    <tr><td valign=top><em>basket_filename</em>&nbsp;</td><td>The name of the datafile that contains the transactions. </td></tr>
    <tr><td valign=top><em>min_supp</em>&nbsp;</td><td>The relative support threshold </td></tr>
    <tr><td valign=top><em>min_conf</em>&nbsp;</td><td>The confidence threshold for association rules. If min_conf=0 no association rules will be extraced. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d0" doxytag="Apriori::read_in_a_line" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Apriori::read_in_a_line </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">FILE *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>filepoint</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads in one transaction from the datafile. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="Apriori::support" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Apriori::support </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>filepoint</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="Trie_8hpp.html#a0">itemtype</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>candidate_size</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determines the support of the candidates of the given size. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r1" doxytag="Apriori::basket" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> vector&lt;<a class="el" href="Trie_8hpp.html#a0">itemtype</a>&gt; <a class="el" href="classApriori.html#r1">Apriori::basket</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r2" doxytag="Apriori::basket_number" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned long <a class="el" href="classApriori.html#r2">Apriori::basket_number</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="Apriori::reduced_baskets" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> map&lt;vector&lt;<a class="el" href="Trie_8hpp.html#a0">itemtype</a>&gt;, unsigned long, <a class="el" href="structitemsetLess.html">itemsetLess</a>&gt; <a class="el" href="classApriori.html#r3">Apriori::reduced_baskets</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r4" doxytag="Apriori::store_input" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool <a class="el" href="classApriori.html#r4">Apriori::store_input</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="Apriori::trie" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classTrie.html">Trie</a>* <a class="el" href="classApriori.html#r0">Apriori::trie</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Apriori_8hpp-source.html">Apriori.hpp</a><li><a class="el" href="Apriori_8cpp.html">Apriori.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Dec 23 23:59:00 2003 for APRIORI algorithm by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
