<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APRIORI algorithm: Apriori class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>Apriori Class Reference</h1>This class implements the APRIORI algirithm.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="Apriori_8hpp-source.html">Apriori.hpp</a>&gt;</code>
<p>
Collaboration diagram for Apriori:<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classApriori-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#a0">Apriori</a> (ifstream &amp;basket_file, const char *output_file_name)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#a1">APRIORI_alg</a> (const unsigned long min_supp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This procedure implements the APRIORI algorithm.  <a href="#a1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#a2">~Apriori</a> ()</td></tr>

<tr><td colspan=2><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#d0">support</a> (const <a class="el" href="common_8hpp.html#a0">itemtype</a> &amp;candidate_size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determines the support of the candidates of the given size.  <a href="#d0"></a><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classApriori__Trie.html">Apriori_Trie</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#r0">apriori_trie</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A trie that stores the frequent itemset and candidates.  <a href="#r0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classInput__Output__Manager.html">Input_Output_Manager</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#r1">input_output_manager</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The input_output_manager that is responsibel for the input, output and recoding operations.  <a href="#r1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>map&lt; vector&lt; <a class="el" href="common_8hpp.html#a0">itemtype</a> &gt;, unsigned <br>
long &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#r2">reduced_baskets</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This will store the reduced baskets, if store_input=true;.  <a href="#r2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classApriori.html#r3">store_input</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If store_input = true, then the reduced baskets will be stored in memory.  <a href="#r3"></a><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class implements the APRIORI algirithm. 
<p>
APRIORI is a levelwise algorithm. It scans the transaction database several times. After the first scan the frequent 1-itemsets are found, and in general after the <em>k<sup>th</sup></em> scan the frequent <em>k</em>-itemsets are extracted. The method does not determine the support of every possible itemset. In an attempt to narrow the domain to be searched, before every pass it generates <em>candidate</em> itemsets. An itemset becomes a candidate if every subset of it is frequent. Obviously every frequent itemset needs to be candidate too, hence only the support of candidates is calculated. Frequent <em>k</em>-itemsets generate the candidate <em>k+1</em>-itemsets after the <img class=formulaInl alt="$k^{th}$" src="form_0.png"> scan. <p>
After all the candidate <em>k+1</em>-itemsets have been generated, a new scan of the transactions is effected and the precise support of the candidates is determined. The candidates with low support are thrown away. The algorithm ends when no candidates can be generated. <p>
The intuition behind candidate generation is based on the following simple fact:<br>
<div align="center"><em>Every subset of a frequent itemset is frequent.</em></div><br>
 This is immediate, because if a transaction <em>t</em> supports an itemset <em>X</em>, then <em>t</em> supports every subset <img class=formulaInl alt="$Y\subseteq X$" src="form_1.png">. <p>
Using the fact indirectly, we infer, that if an itemset has a subset that is infrequent, then it cannot be frequent. So in the algorithm APRIORI only those itemsets will be candidates whose every subset is frequent. The frequent <em>k</em>-itemsets are available when we attempt to generate candidate <em>k+1</em>-itemsets. The algorithm seeks candidate <em>k+1</em>-itemsets among the sets which are unions of two frequent <em>k</em>-itemsets. After forming the union we need to verify that all of its subsets are frequent, otherwise it should not be a candidate. To this end, it is clearly enough to check if all the <em>k</em>-subsets of <em>X</em> are frequent. <p>
Next the supports of the candidates are calculated. This is done by reading transactions one by one. For each transaction <em>t</em> the algorithm decides which candidates are supported by <em>t</em>. To solve this task efficiently APRIORI uses a hash-tree. However in this implementation a trie (prefix-tree) is applied. Tries have many advantages over hash-trees. <ol>
<li>
It is faster  </li>
<li>
It needs no parameters (main drawback of a hash-tree is that its performance is very sensitive to the parameteres)  </li>
<li>
The candidate generation is very simple.  </li>
</ol>

<p>

<p>
Definition at line <a class="el" href="Apriori_8hpp-source.html#l00078">78</a> of file <a class="el" href="Apriori_8hpp-source.html">Apriori.hpp</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="Apriori::Apriori" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Apriori::Apriori </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ifstream &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>basket_file</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>output_file_name</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>basket_file</em>&nbsp;</td><td>The file that contain the transactions. </td></tr>
    <tr><td valign=top><em>output_file_name</em>&nbsp;</td><td>The name of file where the results have to be written to. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="Apriori_8cpp-source.html#l00042">42</a> of file <a class="el" href="Apriori_8cpp-source.html">Apriori.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="Apriori::~Apriori" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Apriori::~<a class="el" href="classApriori.html">Apriori</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="Apriori_8cpp-source.html#l00083">83</a> of file <a class="el" href="Apriori_8cpp-source.html">Apriori.cpp</a>.
<p>
References <a class="el" href="Apriori_8hpp-source.html#l00095">apriori_trie</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a1" doxytag="Apriori::APRIORI_alg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Apriori::APRIORI_alg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const unsigned long&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>min_supp</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This procedure implements the APRIORI algorithm. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>min_supp</em>&nbsp;</td><td>The relative support threshold </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="Apriori_8cpp-source.html#l00050">50</a> of file <a class="el" href="Apriori_8cpp-source.html">Apriori.cpp</a>.
<p>
References <a class="el" href="Apriori_8hpp-source.html#l00095">apriori_trie</a>, <a class="el" href="Apriori__Trie_8cpp-source.html#l00042">Apriori_Trie::candidate_generation()</a>, <a class="el" href="Apriori__Trie_8cpp-source.html#l00079">Apriori_Trie::delete_infrequent()</a>, <a class="el" href="Input__Output__Manager_8cpp-source.html#l00058">Input_Output_Manager::find_frequent_items()</a>, <a class="el" href="Apriori_8hpp-source.html#l00098">input_output_manager</a>, <a class="el" href="Apriori__Trie_8cpp-source.html#l00029">Apriori_Trie::insert_frequent_items()</a>, <a class="el" href="Apriori__Trie_8cpp-source.html#l00092">Apriori_Trie::is_there_any_candidate()</a>, <a class="el" href="common_8hpp-source.html#l00022">itemtype</a>, <a class="el" href="Input__Output__Manager_8cpp-source.html#l00150">Input_Output_Manager::rewind()</a>, <a class="el" href="Apriori__Trie_8cpp-source.html#l00097">Apriori_Trie::statistics()</a>, <a class="el" href="Apriori_8cpp-source.html#l00021">support()</a>, and <a class="el" href="Input__Output__Manager_8cpp-source.html#l00136">Input_Output_Manager::write_out_basket_and_counter()</a>.
<p>
Referenced by <a class="el" href="main_8cpp-source.html#l00077">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d0" doxytag="Apriori::support" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Apriori::support </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="common_8hpp.html#a0">itemtype</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>candidate_size</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determines the support of the candidates of the given size. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>candidate_size</em>&nbsp;</td><td>The size of the candidate whose support has top be determined. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="Apriori_8cpp-source.html#l00021">21</a> of file <a class="el" href="Apriori_8cpp-source.html">Apriori.cpp</a>.
<p>
References <a class="el" href="Apriori_8hpp-source.html#l00095">apriori_trie</a>, <a class="el" href="Input__Output__Manager_8cpp-source.html#l00116">Input_Output_Manager::basket_recode()</a>, <a class="el" href="Apriori__Trie_8cpp-source.html#l00062">Apriori_Trie::find_candidate()</a>, <a class="el" href="Apriori_8hpp-source.html#l00098">input_output_manager</a>, <a class="el" href="common_8hpp-source.html#l00022">itemtype</a>, <a class="el" href="Input__Output__Manager_8cpp-source.html#l00026">Input_Output_Manager::read_in_a_line()</a>, and <a class="el" href="Apriori_8hpp-source.html#l00100">reduced_baskets</a>.
<p>
Referenced by <a class="el" href="Apriori_8cpp-source.html#l00050">APRIORI_alg()</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r0" doxytag="Apriori::apriori_trie" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classApriori__Trie.html">Apriori_Trie</a>* <a class="el" href="classApriori.html#r0">Apriori::apriori_trie</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A trie that stores the frequent itemset and candidates. 
<p>

<p>
Definition at line <a class="el" href="Apriori_8hpp-source.html#l00095">95</a> of file <a class="el" href="Apriori_8hpp-source.html">Apriori.hpp</a>.
<p>
Referenced by <a class="el" href="Apriori_8cpp-source.html#l00050">APRIORI_alg()</a>, <a class="el" href="Apriori_8cpp-source.html#l00021">support()</a>, and <a class="el" href="Apriori_8cpp-source.html#l00083">~Apriori()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="Apriori::input_output_manager" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classInput__Output__Manager.html">Input_Output_Manager</a> <a class="el" href="classApriori.html#r1">Apriori::input_output_manager</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The input_output_manager that is responsibel for the input, output and recoding operations. 
<p>

<p>
Definition at line <a class="el" href="Apriori_8hpp-source.html#l00098">98</a> of file <a class="el" href="Apriori_8hpp-source.html">Apriori.hpp</a>.
<p>
Referenced by <a class="el" href="Apriori_8cpp-source.html#l00050">APRIORI_alg()</a>, and <a class="el" href="Apriori_8cpp-source.html#l00021">support()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r2" doxytag="Apriori::reduced_baskets" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> map&lt;vector&lt;<a class="el" href="common_8hpp.html#a0">itemtype</a>&gt;, unsigned long&gt; <a class="el" href="classApriori.html#r2">Apriori::reduced_baskets</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This will store the reduced baskets, if store_input=true;. 
<p>

<p>
Definition at line <a class="el" href="Apriori_8hpp-source.html#l00100">100</a> of file <a class="el" href="Apriori_8hpp-source.html">Apriori.hpp</a>.
<p>
Referenced by <a class="el" href="Apriori_8cpp-source.html#l00021">support()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="Apriori::store_input" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool <a class="el" href="classApriori.html#r3">Apriori::store_input</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If store_input = true, then the reduced baskets will be stored in memory. 
<p>

<p>
Definition at line <a class="el" href="Apriori_8hpp-source.html#l00103">103</a> of file <a class="el" href="Apriori_8hpp-source.html">Apriori.hpp</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Apriori_8hpp-source.html">Apriori.hpp</a><li><a class="el" href="Apriori_8cpp-source.html">Apriori.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Sep 3 17:23:52 2004 for APRIORI algorithm by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
